# Tableau Server Configuration Example
# Copy this file to .env.tableau and update with your values

# Tableau Server Connection
TBL_SERVER=https://your-tableau-server.com
TBL_SITE_ID=                    # Empty for Default site, or specify site ID like "sales-team"
TBL_API_VERSION=3.19

# Authentication - Personal Access Token (Recommended)
# Create a PAT in Tableau Server: User Settings > Personal Access Tokens
TBL_TOKEN_NAME=pulser_token
TBL_TOKEN=your_personal_access_token_here

# Alternative Authentication - Username/Password (Less Secure)
# Only use if PAT is not available
# TBL_USERNAME=admin
# TBL_PASSWORD=your_password_here

# Default Publishing Settings
DEFAULT_PROJECT=Default          # Default project for publishing
OVERWRITE_EXISTING=true         # Overwrite existing workbooks/datasources
SHOW_WORKBOOK_TABS=true         # Show tabs in published workbooks

# File Handling
TEMP_DIR=/workspace/tableau-agent/temp
UPLOAD_TIMEOUT=1800             # Timeout for uploads in seconds (30 minutes)
MAX_FILE_SIZE=2GB               # Maximum file size for uploads

# Logging Configuration
LOG_LEVEL=INFO                  # DEBUG, INFO, WARNING, ERROR
LOG_FILE=/workspace/tableau-agent/logs/tableau-agent.log
ENABLE_API_LOGGING=false        # Log all API requests (verbose)

# Performance Settings
MAX_CONCURRENT_UPLOADS=3        # Number of concurrent upload operations
RETRY_ATTEMPTS=3                # Number of retry attempts for failed operations
RETRY_DELAY=30                  # Delay between retries in seconds

# Security Settings
VERIFY_SSL=true                 # Verify SSL certificates
CONNECTION_TIMEOUT=60           # Connection timeout in seconds
READ_TIMEOUT=300                # Read timeout in seconds

# MCP Integration (if using with existing Tableau setup)
MCP_PROXY_URL=http://localhost:8080
ENABLE_MCP_INTEGRATION=false

# Monitoring and Health Checks
ENABLE_METRICS=true             # Enable Prometheus metrics
METRICS_PORT=9090               # Port for metrics endpoint
HEALTH_CHECK_INTERVAL=30        # Health check interval in seconds

# Example configurations for different environments:

# Development Environment
# TBL_SERVER=https://tableau-dev.company.com
# TBL_SITE_ID=dev-site
# LOG_LEVEL=DEBUG
# ENABLE_API_LOGGING=true

# Production Environment  
# TBL_SERVER=https://tableau.company.com
# TBL_SITE_ID=
# LOG_LEVEL=INFO
# VERIFY_SSL=true

# Tableau Cloud
# TBL_SERVER=https://10ax.online.tableau.com
# TBL_SITE_ID=your-site-name
# VERIFY_SSL=true